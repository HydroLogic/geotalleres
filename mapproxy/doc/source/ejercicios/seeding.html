<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Ejercicio: seeding y borrado de caches &mdash; geotalleres-teoria 1 documentation</title>
    
    <link rel="stylesheet" href="../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/geotalleres.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootswatch-3.1.0/readable/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../',
        VERSION:     '1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="geotalleres-teoria 1 documentation" href="../../../../index.html" />
    <link rel="up" title="Ejercicios" href="index.html" />
    <link rel="next" title="Servir un fichero MBTiles creado con TileMill" href="mbtiles.html" />
    <link rel="prev" title="Ejercicio: acelerar el acceso a un WMS" href="acelerar-wms.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default ">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../index.html">
          GeoTalleres</a>
        <span class="navbar-text navbar-version pull-left"><b>1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../index.html">Nav <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../virtual-box/virtual-box.html">Instalación de la máquina virtual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../virtual-box/virtual-box.html#instalacion-de-virtualbox">Instalación de VirtualBox</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../virtual-box/virtual-box.html#creacion-de-una-maquina-virtual">Creación de una máquina virtual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../virtual-box/virtual-box.html#instalacion-de-ubuntu-linux">Instalación de Ubuntu/Linux</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../servicios-web/servicios-web.html">Servicios web</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../servicios-web/servicios-web.html#http">HTTP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../servicios-web/servicios-web.html#servicios-del-open-geospatial-consortium-ogc">Servicios del Open Geospatial Consortium (OGC)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../linux/linux.html">Introducción a Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../geoserver-intro/geoserver_intro.html">Introducción a GeoServer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-intro/geoserver_intro.html#estado-del-servidor">Estado del Servidor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-intro/geoserver_intro.html#logs-de-geoserver">Logs de GeoServer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-intro/geoserver_intro.html#informacion-de-contacto">Información de Contacto</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-intro/geoserver_intro.html#acerca-de-geoserver">Acerca de GeoServer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-intro/geoserver_intro.html#gestion-de-usuarios">Gestión de usuarios</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../geoserver-vector/geoserver_vector.html">GeoServer: Publicación de datos vectoriales</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-vector/geoserver_vector.html#creacion-de-un-espacio-de-trabajo">Creación de un espacio de trabajo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-vector/geoserver_vector.html#creacion-de-un-almacen-de-datos">Creación de un almacén de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-vector/geoserver_vector.html#publicacion-de-capas-vectoriales">Publicación de capas vectoriales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-vector/geoserver_vector.html#previsualizacion-de-capas">Previsualización de capas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-vector/geoserver_vector.html#simbolizacion-de-capas-vectoriales">Simbolización de capas vectoriales</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../geoserver-raster/geoserver_raster.html">GeoServer: Publicación de datos raster</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-raster/geoserver_raster.html#almacen-de-datos-geotiff">Almacen de datos GeoTIFF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-raster/geoserver_raster.html#publicacion-de-una-capa-geotiff">Publicación de una capa GeoTIFF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-raster/geoserver_raster.html#simbolizacion-raster">Simbolización Raster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-raster/geoserver_raster.html#publicacion-de-un-mosaico-raster-temporal">Publicación de un mosaico Raster temporal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-raster/geoserver_raster.html#consumo-del-servicio-temporal">Consumo del servicio temporal</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../geoserver-produccion/geoserver_produccion.html">GeoServer en producción</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-produccion/geoserver_produccion.html#nivel-de-logging">Nivel de <em>logging</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geoserver-produccion/geoserver_produccion.html#limitacion-del-servicio-wms">Limitación del servicio WMS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../geowebcache/pregeneracion.html">Pregeneración de teselas en GeoWebCache</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../geowebcache/pregeneracion.html#pregeneracion-de-teselas">Pregeneración de teselas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../geowebcache/pregeneracion.html#ejemplo-pregeneracion-de-unidades-administrativas-de-ecuador">Ejemplo: pregeneración de unidades administrativas de Ecuador</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../optimizacion-raster-gdal/optimizacion-raster-gdal.html">Optimización de GeoTIFF para su publicación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../optimizacion-raster-gdal/optimizacion-raster-gdal.html#gdalinfo">gdalinfo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../optimizacion-raster-gdal/optimizacion-raster-gdal.html#gdal-translate">gdal_translate</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../optimizacion-raster-gdal/optimizacion-raster-gdal.html#gdaladdo">gdaladdo</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../bases-de-datos/teoria_bases_datos.html">Teoría de <strong>base de datos</strong></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../bases-de-datos/teoria_bases_datos.html#bases-de-datos-el-enfoque-general">Bases de datos, el enfoque general</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../bases-de-datos/teoria_bases_datos.html#tablas-columnas-registros">Tablas, columnas, registros</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../bases-de-datos/teoria_bases_datos.html#modelizacion-de-bd">Modelización de <strong>base de datos</strong></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../bases-de-datos/teoria_bases_datos.html#referencias">Referencias</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../conceptos-sql/conceptos_sql.html">Conceptos básicos de SQL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../conceptos-sql/conceptos_sql.html#introduccion">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../conceptos-sql/conceptos_sql.html#componentes-del-sql">Componentes del SQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../conceptos-sql/conceptos_sql.html#consultas">Consultas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../conceptos-sql/conceptos_sql.html#manejo-de-varias-tablas">Manejo de varias tablas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../conceptos-sql/conceptos_sql.html#vistas">Vistas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../conceptos-sql/conceptos_sql.html#referencias">Referencias</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgresql/postgresql.html">PostgreSQL</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#introduccion">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#arquitectura-cliente-servidor">Arquitectura cliente/servidor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#creacion-de-una-base-de-datos">Creación de una base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#acceso-a-una-base-de-datos">Acceso a una base de datos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#psql">psql</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#consola-psql-interactiva">Consola psql interactiva</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#cargando-informacion-desde-shapefile-shp2pgsql">Cargando información desde shapefile: shp2pgsql</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#mas-informacion">Más información</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgresql/postgresql.html#referencias">Referencias</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-instalacion/instalacion.html">Instalación de <em>PostgreSQL</em></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-instalacion/instalacion.html#introduccion-a-postgresql">Introducción a PostgreSQL</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-instalacion/instalacion.html#instalacion-y-configuracion-de-pg">Instalación y configuración de <em>PostgreSQL</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-instalacion/instalacion.html#configuracion">Configuración</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-instalacion/instalacion.html#clientes-psql-y-pgadmin3">Clientes: psql y pgadmin3</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-instalacion/instalacion.html#referencias">Referencias</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-caracteristicas-espaciales/caracteristicas_espaciales.html"><em>PostGIS</em>, características espaciales</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-caracteristicas-espaciales/caracteristicas_espaciales.html#introduccion">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-caracteristicas-espaciales/caracteristicas_espaciales.html#instalacion-y-configuracion-de-pg">Instalación y configuración de <em>PostGIS</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-caracteristicas-espaciales/caracteristicas_espaciales.html#indices-espaciales">Indices espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-caracteristicas-espaciales/caracteristicas_espaciales.html#funciones-espaciales">Funciones espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-caracteristicas-espaciales/caracteristicas_espaciales.html#otros-modulos">Otros módulos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-caracteristicas-espaciales/caracteristicas_espaciales.html#practicas">Prácticas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-simple-feature-model/simple_feature_model.html">Simple Feature Model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-simple-feature-model/simple_feature_model.html#ogc-y-el-simple-feature-model">OGC y el Simple Feature Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-simple-feature-model/simple_feature_model.html#wkt-y-wkb">WKT y WKB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-simple-feature-model/simple_feature_model.html#tipos-de-datos-espaciales">Tipos de datos espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-simple-feature-model/simple_feature_model.html#definicion-de-geometrias-basicas">Definición de geometrías básicas</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-simple-feature-model/simple_feature_model.html#referencias">Referencias</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-importacion-exportacion/importacion_exportacion.html">Importación y exportación de datos</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-importacion-exportacion/importacion_exportacion.html#importacion-esri-shapes-mediante-shp2pgsql">Importación ESRI shapes mediante shp2pgsql</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-importacion-exportacion/importacion_exportacion.html#exportacion-desde-pg-a-archivos-de-tipo-esri-shapefile">Exportación desde PostGIS a archivos de tipo ESRI Shapefile</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-importacion-exportacion/importacion_exportacion.html#gdal-ogr">GDAL/OGR</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-importacion-exportacion/importacion_exportacion.html#importacion-datos-osm-a-postgis">Importación datos OSM a PostGIS</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-importacion-exportacion/importacion_exportacion.html#consulta-mediante-visores-web-y-sig-escritorio">Consulta mediante visores web y SIG escritorio</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-importacion-exportacion/importacion_exportacion.html#referencias">Referencias</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-indexacion-espacial/indexacion_espacial.html">Indexación espacial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-indexacion-espacial/indexacion_espacial.html#como-funcionan-los-indices-espaciales">Como funcionan los índices espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-indexacion-espacial/indexacion_espacial.html#creacion-de-indices-espaciales">Creación de indices espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-indexacion-espacial/indexacion_espacial.html#uso-de-indices-espaciales">Uso de índices espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-indexacion-espacial/indexacion_espacial.html#analyze-y-vacuum">ANALYZE y VACUUM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-indexacion-espacial/indexacion_espacial.html#practicas">Prácticas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-relaciones-espaciales/relaciones_espaciales.html">Relaciones espaciales</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-relaciones-espaciales/relaciones_espaciales.html#introduccion">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-relaciones-espaciales/relaciones_espaciales.html#matriz-de-9im">Matriz DE-9IM</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-relaciones-espaciales/relaciones_espaciales.html#predicados-espaciales">Predicados espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-relaciones-espaciales/relaciones_espaciales.html#joins-espaciales">JOINS espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-relaciones-espaciales/relaciones_espaciales.html#practicas">Prácticas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-analisis-espacial/analisis_espacial.html">Análisis espacial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-analisis-espacial/analisis_espacial.html#operadores-espaciales">Operadores espaciales</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-analisis-espacial/analisis_espacial.html#transformacion-y-edicion-de-coordenadas">Transformación y edición de coordenadas</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-validacion/validacion.html">Validación</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-validacion/validacion.html#validar-geometrias">Validar geometrías</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html"><em>PostGIS Raster</em></a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html#introduccion">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html#tipo-de-datos-raster">Tipo de datos Raster</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html#procesando-y-cargando-raster-con-gdal-vrt">Procesando y cargando raster con GDAL VRT</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html#obtencion-de-metadatos-y-estadisticas-de-una-capa-pr">Obtención de metadatos y estadísticas de una capa <em>PostGIS Raster</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html#mapalgebra-sobre-capas-pr">MapAlgebra sobre capas <em>PostGIS Raster</em></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html#clip-de-datos-raster-usando-geometrias">Clip de datos ráster usando geometrías</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-raster/postgis_raster.html#combinando-raster-y-geometrias-para-analisis-espacial">Combinando raster y geometrías para análisis espacial</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../postgis-cartodb/cartodb.html">Productos basados en PostGIS: CartoDB, OpenGeo</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-cartodb/cartodb.html#cartodb">CartoDB</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../postgis-cartodb/cartodb.html#opengeo">OpenGEO</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Taller de MapProxy</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#nivel-basico">Nivel: Básico</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#descripcion">Descripción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#aplicaciones-necesarias">Aplicaciones necesarias</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#tabla-de-contenidos">Tabla de contenidos</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../josm-imposm-tilemill/index.html">Taller de OSM + IMPOSM + TILEMILL  VI Jornadas de SIG Libre</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../josm-imposm-tilemill/index.html#autores-del-taller">Autores del taller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../josm-imposm-tilemill/index.html#licencia">Licencia</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../josm-imposm-tilemill/index.html#agenda">Agenda</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Ejercicio: <em>seeding</em> y borrado de <em>caches</em></a><ul>
<li><a class="reference internal" href="#sembrar-una-cache">Sembrar una caché</a></li>
<li><a class="reference internal" href="#sembrado-sencillo">Sembrado sencillo</a></li>
<li><a class="reference internal" href="#limpiando-caches">Limpiando cachés</a></li>
<li><a class="reference internal" href="#comprobacion">Comprobación</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="acelerar-wms.html" title="Previous Chapter: Ejercicio: acelerar el acceso a un WMS"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Ejercicio: acele...</span>
    </a>
  </li>
  <li>
    <a href="mbtiles.html" title="Next Chapter: Servir un fichero MBTiles creado con TileMill"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Servir un ficher... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../../../../_sources/mapproxy/doc/source/ejercicios/seeding.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="ejercicio-seeding-y-borrado-de-caches">
<h1>Ejercicio: <em>seeding</em> y borrado de <em>caches</em><a class="headerlink" href="#ejercicio-seeding-y-borrado-de-caches" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>Autores:</p>
<ul class="simple">
<li>Pedro-Juan Ferrer <a class="reference external" href="http://twitter.com/vehrka">&#64;vehrka</a> · <a class="reference external" href="mailto:pferrer&#37;&#52;&#48;osgeo&#46;org">pferrer<span>&#64;</span>osgeo<span>&#46;</span>org</a></li>
<li>Jorge Sanz <a class="reference external" href="http://twitter.com/xurxosanz">&#64;xurxosanz</a> · <a class="reference external" href="mailto:jsanz&#37;&#52;&#48;osgeo&#46;org">jsanz<span>&#64;</span>osgeo<span>&#46;</span>org</a></li>
<li>Iván Sanchez <a class="reference external" href="http://twitter.com/realivansanchez">&#64;realivansanchez</a> · <a class="reference external" href="mailto:ivan&#37;&#52;&#48;sanchezortega&#46;es">ivan<span>&#64;</span>sanchezortega<span>&#46;</span>es</a></li>
</ul>
<p>Licencia:</p>
<p class="last">Excepto donde quede reflejado de otra manera, la presente documentación
se halla bajo licencia <a class="reference external" href="https://creativecommons.org/licenses/by-sa/4.0/deed.es_ES">Creative Commons Reconocimiento Compartir Igual</a></p>
</div>
<div class="section" id="sembrar-una-cache">
<h2>Sembrar una caché<a class="headerlink" href="#sembrar-una-cache" title="Permalink to this headline">¶</a></h2>
<p>Sembrar una caché significa llenar toda la caché de antemano. Hay un par de
casos de uso típicos para los que es adecuado sembrar las cachés:</p>
<ul class="simple">
<li>Usar cartografía en portátiles sin una conexión fiable a Internet (en campo,
en el extranjero, o en una demo)</li>
<li>Acelerar el acceso a las capas cacheadas, descargando todo (por ejemplo) la
noche anterior</li>
</ul>
<p>En este ejercicio vamos a sembrar los datos de OSM en el área de Gerona, pero
sólo para unos cuantos niveles de zoom. Una vez hecho el sembrado, veremos cómo
MapProxy sirve las imágenes sin necesidad de pedirlas al origen.</p>
</div>
<div class="section" id="sembrado-sencillo">
<h2>Sembrado sencillo<a class="headerlink" href="#sembrado-sencillo" title="Permalink to this headline">¶</a></h2>
<p>La tarea más sencilla es lanzar <em>una</em> <strong>tarea</strong> de sembrado <em>un</em> <strong>cache</strong> en
<em>una</em> <strong>cobertura</strong> (área) para algunos <strong>niveles de zoom</strong>. La <em>cache</em> (con sus
correspondientes <em>capas</em> y <em>origenes</em>) deberían estar ya definidos en vuestros
<em>mapproxy.yaml</em>. Las tareas de sembrado y las coberturas se definen en un
fichero aparte, normalmente nombrado <em>seed.yaml</em>.</p>
<p>Hay que recordar que la caché es siempre una pirámide de imágenes, y que su
extensión y niveles de zoom vienen referidos por el <em>grid</em> del <em>mapproxy.yaml</em>.
Por eso, cuando se siembra una caché, se hace referencia a los niveles de zoom
de esta pirámide.</p>
<p>Primero queremos sembrar la caché de la capa de OpenStreetMap, en la zona de
Gerona. Para hacer esto, escribid un fichero <em>seed.yaml</em> que contenga una tarea
de sembrado que haga referencia a la <em>cache</em> apropiada y a una cobertura con el
bounding box de Gerona, para niveles de zoom del 1 al 10.</p>
<p>Una vez escrito el fichero <em>seed.yaml</em>, se puede hacer el sembrado ejecutando
<tt class="docutils literal"><span class="pre">mapproxy-seed</span> <span class="pre">-f</span> <span class="pre">mapproxy.yaml</span> <span class="pre">-s</span> <span class="pre">seed.yaml</span> <span class="pre">-i</span></tt>. Si estuviera en producción,
cambiaríamos <tt class="docutils literal"><span class="pre">-i</span></tt> por <tt class="docutils literal"><span class="pre">-seed=ALL</span></tt> para poder automatizarlo.</p>
<p>A continuación puedes crear una tarea de caché de la capa de la ortofoto para el
grid UTM, para niveles de zoom del 1 al 7 y el mismo <em>coverage</em>.</p>
</div>
<div class="section" id="limpiando-caches">
<h2>Limpiando cachés<a class="headerlink" href="#limpiando-caches" title="Permalink to this headline">¶</a></h2>
<p>Para asegurar que solo tenemos la caché de los datos que se usan en la oficina,
vamos a crear una tarea de limpieza que borre los datos a partir del nivel 8 de
la cache de la ortofoto del ICC en coordenadas UTM, pero solo aquellas teselas
que tengan más de <strong>1 semana</strong>, <strong>2 días</strong>, <strong>3 horas</strong> y <strong>4 minutos</strong>.</p>
<p>De esta forma mantenemos los niveles superiores pero nos deshacemos de aquellas
teselas que no se visitan desde hace un tiempo.</p>
</div>
<div class="section" id="comprobacion">
<h2>Comprobación<a class="headerlink" href="#comprobacion" title="Permalink to this headline">¶</a></h2>
<p>Si ejecutamos el comando <tt class="docutils literal"><span class="pre">mapproxy-seed</span></tt> pasando como parámetro la opción
<tt class="docutils literal"><span class="pre">--summary</span></tt> obtendremos el siguiente resumen de las tareas de sembrado y
limpieza de teselas.</p>
<div class="highlight-python"><pre>========== Seeding tasks ==========
  girona_osm:
    Seeding cache 'osm_cache' with grid 'GLOBAL_MERCATOR' in EPSG:900913
    Limited to: 2.67000, 41.88000, 2.97000, 42.07000 (EPSG:4326)
    Levels: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
    Overwriting: no tiles
  girona_icc:
    Seeding cache 'icc_cache' with grid 'utm_girona' in EPSG:25831
    Limited to: 2.66902, 41.87953, 2.97009, 42.07047 (EPSG:4326)
    Levels: [1, 2, 3, 4, 5, 6, 7]
    Overwriting: no tiles
========== Cleanup tasks ==========
  girona:
    Cleaning up cache 'icc_cache' with grid 'GLOBAL_MERCATOR' in EPSG:900913
    Limited to: 2.67000, 41.88000, 2.97000, 42.07000 (EPSG:4326)
    Levels: [8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
    Remove: tiles older than 2013-01-25 15:20:58
  girona:
    Cleaning up cache 'icc_cache' with grid 'GLOBAL_GEODETIC' in EPSG:4326
    Limited to: 2.67000, 41.88000, 2.97000, 42.07000 (EPSG:4326)
    Levels: [8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19]
    Remove: tiles older than 2013-01-25 15:20:58
  girona:
    Cleaning up cache 'icc_cache' with grid 'utm_girona' in EPSG:25831
    Limited to: 2.66902, 41.87953, 2.97009, 42.07047 (EPSG:4326)
    Levels: [8, 9, 10, 11]
    Remove: tiles older than 2013-01-25 15:20:58</pre>
</div>
<p>Por otra parte, si ejecutamos <tt class="docutils literal"><span class="pre">mapproxy</span></tt> después de haber sembrado la caché,
en su salida por consola se ven las peticiones WMS que está sirviendo, pero
<strong>no</strong> las peticiones al <em>source</em> que debería estar haciendo (porque todas esas
peticiones se han hecho durante el proceso de sembrado).</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Varios.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>